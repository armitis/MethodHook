# MethodHook


来源网上通过FishHook对所有方法进行hook的方法，原来的库可以统计所有运行过的方法调用的时间和调用次数. 用的过程发现了一些问题:

真机获取的调用堆栈不太对，和实际调用堆栈对不上

我在此基础上增加了保存所有方法的调用记录。

通过调用记录可以看到堆栈信息，可以查看哪些方法被反复调用。

另外，在模拟器上会编译失败，因为用到的一些汇编指令只支持arm64，模拟器是x86_64的

对于 32 位 ARM，使用 __arm__
对于 64 位 ARM，使用 __aarch64__
对于 32 位 X86，使用 __i386__
对于 64 位 X86，使用 __x86_64__

这个问题影响不大，用真机就行了，用户实际用的也是真机环境
